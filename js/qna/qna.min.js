(function(a){a.InputEnum=Object.freeze({SINGLE_FILE:0,MULTIPLE_FILES:1,RADIO_BUTTONS:2,CHECKBOXES:3,TEXTBOX:4,COMBOBOX:5,LISTBOX:6});a.QNAVariable=function(a,d,c,b,f){this.type=a;this.name=c;this.intro=d;this.options=b||null;this.value=f||null};a.QNAVariables=function(a,d){this.intro=a||null;this.variables=d||null};a.QNAStep=function(a,d,c,b,f){this.title=a;this.intro=d;this.inputs=c;this.processStep=b;this.nextStep=f};a.QNA=function(a,d,c,b){this.step=a;this.previousSteps=d||[];this.results=c||[null];
this.config=b||{}};a.QNA.prototype.initialize=function(a,d){var c=this.results[this.results.length-1],b=this.step,f=this.config,h=this,e=function(a,b){a?a(b,d,c,f):b(null)},k=function(a,b,d){if(null===b||a>=b.length)d();else{var g=b[a];e(g.type,function(c){g.processedType=c;e(g.name,function(c){g.processedName=c;e(g.options,function(c){g.processedOptions=c;e(g.value,function(c){f[g.processedName]=c;e(g.intro,function(c){g.processedIntro=c;k(a+1,b,d)})})})})})}};e(b.title,function(c){b.processedTitle=
c;e(b.intro,function(c){b.processedIntro=c;e(b.inputs,function(c){if(b.processedInputs=c){var d=function(a,b,c){if(null===b||a>=b.length)c();else{var f=b[a];e(f.intro,function(h){f.processedIntro=h;e(f.variables,function(e){f.processedVariables=e;k(0,e,function(){d(a+1,b,c)})})})}};d(0,c,function(){a(h)})}else a(h)},d)},d)},d)};a.QNA.prototype.hasNext=function(){return this.step&&this.step.nextStep?!0:!1};a.QNA.prototype.hasPrevious=function(){return 0<this.previousSteps.length};a.QNA.prototype.next=
function(l,d){if(this.step&&this.step.nextStep){var c=function(b){return function(c){b.step.nextStep(function(b){return function(e){e&&l(new a.QNA(e,b.previousSteps.concat([b.step]),c,b.config,b.updatedCallback,d))}}(b),function(b,a){d(b,a)},c[c.length],b.config)}}(this);this.step.processStep?this.step.processStep(function(b){return function(a){c(b.concat([a]))}}(this.results),function(b,a){d(b,a)},this.results[this.results.length],this.config):c(this.results.concat([this.results[this.results.length]]))}else d("An error occurred.",
"There is no current step or no function to call to get the next step.")};a.QNA.prototype.previous=function(){return 0<this.previousSteps.length?new a.QNA(this.previousSteps[this.previousSteps.length-1],this.previousSteps.splice(0,this.previousSteps.length-1),this.results.splice(0,this.results.length-1),this.config):this}})(this);
