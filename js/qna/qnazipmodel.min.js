(function(b){b.zip.workerScriptsPath="/js/zip/";b.QNAZipModel=function(){};b.QNAZipModel.prototype.cache={};b.QNAZipModel.prototype.getEntry=function(a,d){a.getData(new b.zip.BlobWriter,d)};b.QNAZipModel.prototype.getTextFromFile=function(a,d){this.getEntry(a,function(a){var c=new b.FileReader;c.addEventListener("load",function(b){d(b.target.result)});c.readAsText(a)})};b.QNAZipModel.prototype.getByteArrayFromFile=function(a,d){this.getEntry(a,function(a){var c=new b.FileReader;c.addEventListener("load",
function(b){d(b.target.result)});c.readAsArrayBuffer(a)})};b.QNAZipModel.prototype.getTextFromFileName=function(a,d,e,c){var g=this;this.getCachedEntries(a,function(a){var f=!1;b.jQuery.each(a,function(b,a){if(a.filename===d)return g.getTextFromFile(a,e),f=!0,!1});f||c("Could not find "+d)},c)};b.QNAZipModel.prototype.getByteArrayFromFileName=function(a,d,e,c){var g=this;this.getCachedEntries(a,function(a){var f=!1;b.jQuery.each(a,function(a,b){if(b.filename===d)return g.getByteArrayFromFile(b,e),
f=!0,!1});f||c("Could not find "+d)},c)};b.QNAZipModel.prototype.getEntries=function(a,d,e){b.zip.createReader(new b.zip.BlobReader(a),function(a){a.getEntries(d)},e)};b.QNAZipModel.prototype.getCachedEntries=function(a,b,e){this.cache[a]?b(this.cache[a]):this.getEntries(a,function(c){return function(e){c[a]=e;b(e)}}(this.cache),e)};b.QNAZipModel.prototype.hasFileName=function(a,d,e,c){this.getCachedEntries(a,function(a){var c=!1;b.jQuery.each(a,function(a,b){if(b.filename===d)return c=!0,e(c),!1});
c||e(c)},c)};b.QNAZipModel.prototype.clearCache=function(){this.cache={}}})(this);
